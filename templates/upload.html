{% extends "base_mysterious.html" %}

{% block title %}Capture the Evidence{% endblock %}

{% block content %}
<div class="text-center mb-4">
    <div class="vault-icon mb-3">
        <i data-feather="camera" class="mysterious-icon"></i>
    </div>
    <h1 class="mysterious-title">CAPTURE THE EVIDENCE</h1>
    <p class="mysterious-subtitle">Take a photo of yourself with the mysterious object from the vault and upload it.</p>
</div>

<div id="upload-section">
    <form id="upload-form" class="mysterious-form">
        <div class="mb-4">
            <label for="photo" class="form-label mysterious-label">
                <i data-feather="image" class="me-2"></i>Choose Photo
            </label>
            <input 
                type="file" 
                class="form-control mysterious-input" 
                id="photo" 
                name="photo" 
                accept="image/*"
                capture="environment"
                required
            >
            <div class="form-text mysterious-hint mt-2">
                <i data-feather="smartphone" class="me-1"></i>
                Tap to use your camera or choose from gallery
            </div>
        </div>
        
        <div class="d-grid">
            <button type="submit" class="btn mysterious-btn" id="upload-btn">
                <i data-feather="upload" class="me-2"></i>
                SUBMIT EVIDENCE
            </button>
        </div>
    </form>
</div>

<div id="loading-section" class="text-center" style="display: none;">
    <div class="mysterious-loading">
        <div class="loading-spinner"></div>
        <h3 class="mt-3">Analyzing Evidence...</h3>
        <p>The vault is processing your submission...</p>
    </div>
</div>

<div class="text-center mt-4">
    <a href="{{ url_for('logout') }}" class="mysterious-link">
        <i data-feather="log-out" class="me-1"></i>
        Exit Vault
    </a>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/upload.js') }}"></script>
{% endblock %}
