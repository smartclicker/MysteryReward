{% extends "base_mysterious.html" %}

{% block title %}Beweise sammeln{% endblock %}

{% block content %}
<div class="text-center mb-4">
    <div class="vault-image mb-3">
        <img src="{{ url_for('static', filename='images/tresor.png') }}" alt="Tresor" class="tresor-image small upload-tresor">
        <div class="camera-overlay">
            <i data-feather="camera" class="mysterious-icon"></i>
        </div>
        <div class="tresor-glow small"></div>
    </div>
    <h1 class="mysterious-title">BEWEISE SAMMELN</h1>
    <p class="mysterious-subtitle">Machen Sie ein Foto von sich mit dem geheimnisvollen Objekt aus dem Tresor und laden Sie es hoch.</p>
</div>

<div id="upload-section">
    <form id="upload-form" class="mysterious-form">
        <div class="mb-4">
            <label for="photo" class="form-label mysterious-label">
                <i data-feather="image" class="me-2"></i>Foto auswählen
            </label>
            <input 
                type="file" 
                class="form-control mysterious-input" 
                id="photo" 
                name="photo" 
                accept="image/*"
                capture="environment"
                required
            >
            <div class="form-text mysterious-hint mt-2">
                <i data-feather="smartphone" class="me-1"></i>
                Tippen Sie, um die Kamera zu verwenden oder aus der Galerie zu wählen
            </div>
        </div>
        
        <div class="d-grid">
            <button type="submit" class="btn mysterious-btn" id="upload-btn">
                <i data-feather="upload" class="me-2"></i>
                BEWEIS EINREICHEN
            </button>
        </div>
    </form>
</div>

<div id="loading-section" class="text-center" style="display: none;">
    <div class="mysterious-loading">
        <div class="loading-spinner"></div>
        <h3 class="mt-3">Analysiere Beweise...</h3>
        <p>Der Tresor verarbeitet Ihre Einreichung...</p>
    </div>
</div>

<div class="text-center mt-4">
    <a href="{{ url_for('logout') }}" class="mysterious-link">
        <i data-feather="log-out" class="me-1"></i>
        Tresor verlassen
    </a>
</div>
{% endblock %}

{% block extra_scripts %}
<script src="{{ url_for('static', filename='js/upload.js') }}"></script>
{% endblock %}
